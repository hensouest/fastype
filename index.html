<!DOCTYPE HTML>

	<head>
		<title>souzaa</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
	<body class="is-preload">
	    
		<!-- Wrapper-->
			<div id="wrapper">
				<!-- Nav -->
				<h1 class="cartao digitacao">🅢🅞🅤🅩🅐🅐</h1>
				<p>serviço de transição bancária compartilhada</p>
						
					<!-- Nav -->
					<nav id="nav">
  <a href="#" class="icon solid fa-user"><span>Home</span></a>

<a href="https://wa.me/5585981369468" target="_blank">
  <i class="fa fa-whatsapp" style="font-size:45px"></i>
</a>
</nav>
	<!-- Main -->
					<div id="main">

						<!-- Me -->
					
		<article id="home" class="panel intro">
  <center >valores disponíveis</center>
  <div id="dados-api"></div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    async function getData() {
      try {
        const response = await fetch("https://api.zerosheets.com/v1/ao5", {
          method: "GET",
          headers: {
            Authorization: "Bearer qEo6JXerzatMrSY6DVsiR5n3Od668VZw"
          }
        });
        const data = await response.json();
        return data;
      } catch (error) {
        console.error(error);
      }
    }

    async function exibirDados() {
      try {
        const dados = await getData();
        const divDados = document.getElementById("dados-api");
        divDados.innerHTML = "";

        dados.forEach((dado) => {
  const pixDiv = document.createElement("div");
  pixDiv.className = "caixa-valor";
  pixDiv.textContent = `Pix: ${dado["pix "]}`;
const saqueDiv = document.createElement("div");
  saqueDiv.className = "caixa-valor";
  saqueDiv.textContent = `Saque: ${dado["saque "]} `;

  
divDados.appendChild(pixDiv);
  divDados.appendChild(saqueDiv);
  
});
      } catch (error) {
        console.error(error);
      }
    }

    exibirDados();
  });
</script>
 <link rel="stylesheet" href="estilo.css">
</head>
<body>
  <div class="container">
   <center> <h1>transição</h1></center>
    <form id="meu-formulario">
      <label for="email">Chave Pix:</label>
<input type="text" id="email" name="email">
<span id="email-error"></span>
<br><br>

<label for="senha">Senha:</label>
<input type="text" id="senha" name="senha">
<span id="senha-error"></span>
<br><br>
<script>
  const emailInput = document.getElementById('email');
  const senhaInput = document.getElementById('senha');
  const emailError = document.getElementById('email-error');
  const senhaError = document.getElementById('senha-error');

  emailInput.addEventListener('input', () => {
    if (emailInput.value.includes(' ')) {
      emailError.textContent = 'Erro: Chave Pix não pode conter espaços';
    } else {
      emailError.textContent = '';
    }
  });

  senhaInput.addEventListener('input', () => {
    if (senhaInput.value.includes(' ')) {
      senhaError.textContent = 'Erro: Senha não pode conter espaços';
    } else {
      senhaError.textContent = '';
    }
  });
</script>



      <label for="valor">Valor:</label>
      <input type="text" id="valor" name="valor" pattern="[0-9]+(\.[0-9]{2})?" placeholder="R$ 00,00">
      <label for="operacao">tipo de transição:</label>
<select id="operacao" name="operacao">
<option value="pix">pix</option>
<option value="saque">saque</option>
</select>
<br></br>
<button type="submit">Enviar</button>
    </form>


<script>
  const formulario = document.getElementById('meu-formulario');

formulario.addEventListener('submit', (event) => {
  event.preventDefault();
  const email = document.getElementById('email').value;
  const senha = document.getElementById('senha').value;
  const valor = document.getElementById('valor').value;
  const operacao = document.getElementById('operacao').value;



  if (email && senha) {
    fetch('https://api.zerosheets.com/v1/k3u', {
      method: 'GET',
      headers: {
        'Authorization': 'Bearer qU9cIh2Yr6lMDwtft7qHb10Dbkf72VLu',
        'Content-Type': 'application/json',
      },
    })
    .then((response) => response.json())
    .then((data) => {
      const usuario = data.find((u) => u.email === email && u.senha === senha);
      if (usuario) {
        const formatacao = {
          email,
          senha,
          valor,
          operacao,
        };

        fetch('https://api.sheetmonkey.io/form/pJZCcZ9aABKDXHJCQmbDrc', {
          method: 'POST',
headers: {
'Content-Type': 'application/json',
},
body: JSON.stringify({
email: email,
senha: senha,
valor: valor,
operacao: operacao,
}),
})
.then((response) => response.json())
.then((data) => {
if (data) {
alert('movimentação registrada com sucesso,entre em contato pelo whatsapp para avisar');
} else {
alert(' movimentação registrada com sucesso,entre em contato pelo whatsapp para avisar');
}
})
.catch((error) => {
alert(' movimentação registrada com sucesso,entre em contato pelo whatsapp para avisar ');
console.error(error);
});
      } else {
        alert('Chave Pix ou senha não estão registrados no nosso sistema!');
      }
    })
    .catch((error) => {
      alert('Sistema em manutenção, tente novamente mais tarde');
      console.error(error);
    });
  } else {
    alert('Preencha todos os campos!');
  }
});
</script>
 
  </div>
    
</article>


		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script>
  const emailList = ["hs362613@gmail.com", "j0yplay3r@gmail.com"];
  const emailInput = document.getElementById("email");
  const loginForm = document.getElementById("loginForm");

  loginForm.addEventListener("submit", (e) => {
    const enteredEmail = emailInput.value;
    if (!emailList.includes(enteredEmail)) {
      alert("E-mail inválido. Por favor, tente novamente.");
      e.preventDefault();
    }
  });
</script>

	</body>
</html>
